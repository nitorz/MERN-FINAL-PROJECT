{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\IT CELL\\\\Desktop\\\\FINAL\\\\MERN-FINAL-PROJECT\\\\client\\\\src\\\\pages\\\\Habits.jsx\",\n  _s = $RefreshSig$();\n// client/src/pages/Habits.jsx\nimport React, { useEffect, useState } from \"react\";\nimport { api } from \"../api\";\nimport socket from \"../socket\";\nimport Confetti from \"react-confetti\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Habits() {\n  _s();\n  const [habits, setHabits] = useState([]);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const categoryColors = {\n    Health: \"bg-red-200 text-red-800\",\n    Education: \"bg-blue-200 text-blue-800\",\n    Environment: \"bg-green-200 text-green-800\",\n    Default: \"bg-gray-200 text-gray-800\"\n  };\n  const fetchHabits = async () => {\n    try {\n      const res = await api.get(\"/habits\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setHabits(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const completeHabit = async id => {\n    try {\n      await api.patch(`/habits/${id}/complete`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setShowConfetti(true);\n      fetchHabits();\n      setTimeout(() => setShowConfetti(false), 3000);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // Socket.IO real-time updates\n  useEffect(() => {\n    socket.connect();\n    socket.on(\"habit:created\", () => fetchHabits());\n    socket.on(\"habit:completed\", () => fetchHabits());\n    socket.on(\"achievement:unlocked\", payload => {\n      console.log(\"Achievement unlocked:\", payload);\n      // Optionally show toast/notification here\n    });\n    fetchHabits(); // initial load\n\n    return () => {\n      socket.off(\"habit:created\");\n      socket.off(\"habit:completed\");\n      socket.off(\"achievement:unlocked\");\n      socket.disconnect();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 max-w-6xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-green-600 mb-6\",\n      children: \"Your Habits\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), showConfetti && /*#__PURE__*/_jsxDEV(Confetti, {\n      width: window.innerWidth,\n      height: window.innerHeight\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: habits.map(h => /*#__PURE__*/_jsxDEV(motion.div, {\n          layout: true,\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          exit: {\n            opacity: 0,\n            y: -20\n          },\n          whileHover: {\n            scale: 1.03\n          },\n          className: \"bg-white shadow-md rounded-lg p-4 transition-shadow hover:shadow-xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-lg\",\n              children: h.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-sm px-2 py-1 rounded-full ${categoryColors[h.category] || categoryColors.Default}`,\n              children: h.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 text-sm mb-2\",\n            children: [\"Completed \", h.completedDates.length, \" times\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-gray-200 rounded-full h-2 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-green-500 h-2 rounded-full transition-all duration-500\",\n              style: {\n                width: `${Math.min(h.completedDates.length / 10 * 100, 100)}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => completeHabit(h._id),\n            className: \"mt-2 w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition\",\n            children: \"Mark Complete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)]\n        }, h._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(Habits, \"1GMqi6aR9BzTvnYX+HRQWb3IF7M=\");\n_c = Habits;\nvar _c;\n$RefreshReg$(_c, \"Habits\");","map":{"version":3,"names":["React","useEffect","useState","api","socket","Confetti","motion","AnimatePresence","jsxDEV","_jsxDEV","Habits","_s","habits","setHabits","showConfetti","setShowConfetti","categoryColors","Health","Education","Environment","Default","fetchHabits","res","get","headers","Authorization","localStorage","getItem","data","err","console","error","completeHabit","id","patch","setTimeout","connect","on","payload","log","off","disconnect","className","children","fileName","_jsxFileName","lineNumber","columnNumber","width","window","innerWidth","height","innerHeight","map","h","div","layout","initial","opacity","y","animate","exit","whileHover","scale","title","category","completedDates","length","style","Math","min","onClick","_id","_c","$RefreshReg$"],"sources":["C:/Users/IT CELL/Desktop/FINAL/MERN-FINAL-PROJECT/client/src/pages/Habits.jsx"],"sourcesContent":["// client/src/pages/Habits.jsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { api } from \"../api\";\r\nimport socket from \"../socket\";\r\nimport Confetti from \"react-confetti\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nexport default function Habits() {\r\n  const [habits, setHabits] = useState([]);\r\n  const [showConfetti, setShowConfetti] = useState(false);\r\n\r\n  const categoryColors = {\r\n    Health: \"bg-red-200 text-red-800\",\r\n    Education: \"bg-blue-200 text-blue-800\",\r\n    Environment: \"bg-green-200 text-green-800\",\r\n    Default: \"bg-gray-200 text-gray-800\",\r\n  };\r\n\r\n  const fetchHabits = async () => {\r\n    try {\r\n      const res = await api.get(\"/habits\", {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      });\r\n      setHabits(res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const completeHabit = async (id) => {\r\n    try {\r\n      await api.patch(`/habits/${id}/complete`, {}, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      });\r\n      setShowConfetti(true);\r\n      fetchHabits();\r\n      setTimeout(() => setShowConfetti(false), 3000);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  // Socket.IO real-time updates\r\n  useEffect(() => {\r\n    socket.connect();\r\n\r\n    socket.on(\"habit:created\", () => fetchHabits());\r\n    socket.on(\"habit:completed\", () => fetchHabits());\r\n    socket.on(\"achievement:unlocked\", (payload) => {\r\n      console.log(\"Achievement unlocked:\", payload);\r\n      // Optionally show toast/notification here\r\n    });\r\n\r\n    fetchHabits(); // initial load\r\n\r\n    return () => {\r\n      socket.off(\"habit:created\");\r\n      socket.off(\"habit:completed\");\r\n      socket.off(\"achievement:unlocked\");\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-4 max-w-6xl mx-auto\">\r\n      <h2 className=\"text-3xl font-bold text-green-600 mb-6\">Your Habits</h2>\r\n      {showConfetti && <Confetti width={window.innerWidth} height={window.innerHeight} />}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        <AnimatePresence>\r\n          {habits.map((h) => (\r\n            <motion.div\r\n              key={h._id}\r\n              layout\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -20 }}\r\n              whileHover={{ scale: 1.03 }}\r\n              className=\"bg-white shadow-md rounded-lg p-4 transition-shadow hover:shadow-xl\"\r\n            >\r\n              <div className=\"flex justify-between items-center mb-2\">\r\n                <h3 className=\"font-semibold text-lg\">{h.title}</h3>\r\n                <span\r\n                  className={`text-sm px-2 py-1 rounded-full ${\r\n                    categoryColors[h.category] || categoryColors.Default\r\n                  }`}\r\n                >\r\n                  {h.category}\r\n                </span>\r\n              </div>\r\n              <p className=\"text-gray-500 text-sm mb-2\">\r\n                Completed {h.completedDates.length} times\r\n              </p>\r\n              <div className=\"w-full bg-gray-200 rounded-full h-2 mb-2\">\r\n                <div\r\n                  className=\"bg-green-500 h-2 rounded-full transition-all duration-500\"\r\n                  style={{\r\n                    width: `${Math.min((h.completedDates.length / 10) * 100, 100)}%`,\r\n                  }}\r\n                ></div>\r\n              </div>\r\n              <button\r\n                onClick={() => completeHabit(h._id)}\r\n                className=\"mt-2 w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition\"\r\n              >\r\n                Mark Complete\r\n              </button>\r\n            </motion.div>\r\n          ))}\r\n        </AnimatePresence>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}